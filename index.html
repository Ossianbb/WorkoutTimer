<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Workout Timer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="container">
      <h1>Workout Timer</h1>

      <section id="setupView" class="card">
        <h2>Setup</h2>

        <!-- Presets -->
        <section class="subcard">
          <h3>Presets</h3>

          <div class="row">
            <label class="grow">
              Saved workouts
              <select id="presetSelect">
                <option value="">— None —</option>
              </select>
            </label>

            <button id="loadPresetBtn" class="secondary" type="button">Load</button>
            <button id="deletePresetBtn" class="danger" type="button">Delete</button>
          </div>

          <div class="row">
            <label class="grow">
              New preset name
              <input id="presetNameInput" type="text" placeholder="e.g. Core set 1" />
            </label>
            <button id="savePresetBtn" class="primary" type="button">Save as new</button>
          </div>

          <p class="hint">
            Tip: Presets are saved in your browser (LocalStorage) on this device.
          </p>
        </section>

        <!-- Sound controls -->
        <section class="subcard">
          <h3>Sound</h3>
          <div class="row">
            <label>
              <input id="beepEnabled" type="checkbox" checked />
              Beeps
            </label>
            <label>
              <input id="voiceEnabled" type="checkbox" checked />
              Voice cues
            </label>
          </div>
          <p class="hint">
            Tip: Some phones block beeps unless the device is not on silent and you tap the page first.
          </p>
        </section>

        <!-- Global settings (clear section at top) -->
        <section class="subcard">
          <h3>Global timings</h3>
          <div class="grid">
            <label>
              Exercise time (seconds)
              <input id="workSeconds" type="number" min="1" value="45" />
            </label>

            <label>
              Rest between exercises (seconds)
              <input id="restBetweenExercisesSeconds" type="number" min="0" value="15" />
            </label>

            <label>
              Rest between circuit repeats (seconds)
              <input id="restBetweenCircuitsSeconds" type="number" min="0" value="60" />
            </label>

            <div></div>
          </div>
          <div class="summaryRow">
            <div class="summaryLabel">Estimated total</div>
            <div class="summaryValue" id="totalDurationLabel">—</div>
          </div>
        </section>

        <!-- Circuit A (repeats moved into this section) -->
        <section class="subcard">
          <div class="row topRow">
            <h3 class="grow">Circuit A</h3>

            <label class="mini">
              Repeats
              <input id="circuitRepeats" type="number" min="1" value="2" />
            </label>
          </div>

          <p class="hint">
            Leave “Secs” blank to use the global exercise time.
          </p>

          <div class="exerciseHeader">
            <div>Exercise</div>
            <div class="secsCol">Secs</div>
            <div></div>
          </div>

          <div id="exerciseListA" class="exerciseList"></div>

          <div class="row">
            <button id="addExerciseABtn" class="secondary" type="button">+ Add exercise</button>
          </div>
        </section>

        <!-- Warmup toggle -->
        <div class="row">
          <button id="warmupToggleBtn" type="button" class="secondary" aria-pressed="false">
            + Add Warmup
          </button>
        </div>

        <!-- Warmup -->
        <section id="warmupSection" class="subcard hidden">
          <div class="row topRow">
            <h3 class="grow">Warmup</h3>
          </div>

          <div class="grid">
            <label>
              Transition rest warmup → workout (seconds)
              <input id="warmupTransitionRestSeconds" type="number" min="0" value="30" />
            </label>
            <div></div>
          </div>

          <p class="hint">Warmup exercises require a time in seconds.</p>

          <div class="exerciseHeader">
            <div>Exercise</div>
            <div class="secsCol">Secs</div>
            <div></div>
          </div>

          <div id="warmupList" class="exerciseList"></div>

          <div class="row">
            <button id="addWarmupBtn" class="secondary" type="button">+ Add warmup</button>
          </div>
        </section>

        <!-- Circuit B toggle -->
        <div class="row">
          <button id="toggleCircuitBBtn" type="button" class="secondary" aria-pressed="false">
            + Add Circuit B
          </button>
        </div>

        <!-- Circuit B -->
        <section id="circuitBSection" class="subcard hidden">
          <div class="row topRow">
            <h3 class="grow">Circuit B</h3>

            <label class="mini">
              Repeats
              <input id="circuitBRepeats" type="number" min="1" value="2" />
            </label>
          </div>

          <div class="grid">
            <label>
              Transition rest A → B (seconds)
              <input id="transitionRestSeconds" type="number" min="0" value="60" />
            </label>
            <div></div>
          </div>

          <div class="exerciseHeader">
            <div>Exercise</div>
            <div class="secsCol">Secs</div>
            <div></div>
          </div>

          <div id="exerciseListB" class="exerciseList"></div>

          <div class="row">
            <button id="addExerciseBBtn" class="secondary" type="button">+ Add exercise</button>
          </div>
        </section>

        <!-- Cooldown toggle -->
        <div class="row">
          <button id="cooldownToggleBtn" type="button" class="secondary" aria-pressed="false">
            + Add Cooldown
          </button>
        </div>

        <!-- Cooldown -->
        <section id="cooldownSection" class="subcard hidden">
          <div class="row topRow">
            <h3 class="grow">Cooldown</h3>
          </div>

          <div class="grid">
            <label>
              Transition rest workout → cooldown (seconds)
              <input id="cooldownTransitionRestSeconds" type="number" min="0" value="30" />
            </label>
            <div></div>
          </div>

          <p class="hint">Cooldown exercises require a time in seconds.</p>

          <div class="exerciseHeader">
            <div>Exercise</div>
            <div class="secsCol">Secs</div>
            <div></div>
          </div>

          <div id="cooldownList" class="exerciseList"></div>

          <div class="row">
            <button id="addCooldownBtn" class="secondary" type="button">+ Add cooldown</button>
          </div>
        </section>

        <div class="row">
          <button id="startBtn" class="primary" type="button">Go to run screen</button>
          <button id="loadExampleBtn" class="secondary" type="button">Load example</button>
        </div>

        <p class="hint">
          Tip: Use Live Server so the page auto-refreshes while you edit.
        </p>

        <section class="subcard">
          <h3>Recent sessions</h3>
          <div id="historyList" class="historyList"></div>
          <div class="row">
            <button id="clearHistoryBtn" class="secondary" type="button">Clear history</button>
          </div>
        </section>
      </section>

      <!-- Run screen -->
      <section id="runView" class="card hidden runCard">
        <div class="runHeader">
          <div class="time bigTime" id="timeLabel">00:45</div>

          <div class="progressBar stepProgress">
            <div class="progressBarFill" id="stepProgressFill"></div>
          </div>

          <div class="runSubHeader">
            <div class="phaseChip" id="phaseLabel">Exercise</div>
            <div class="countdown" id="countdownLabel"></div>
          </div>
        </div>

        <div class="runInfo">
          <div class="progressBar">
            <div class="progressBarFill" id="overallProgressFill"></div>
          </div>
          <div class="labelRow">
            <div class="labelTitle">Current</div>
            <div class="labelValue currentBig" id="currentLabel">Leg raises</div>
          </div>

          <div class="labelRow">
            <div class="labelTitle">Up next</div>
            <div class="labelValue subtle" id="nextLabel">Side plank (L)</div>
          </div>

          <div class="progress" id="progressLabel">Circuit A • Round 1 / 2 • Exercise 1 / 5</div>
        </div>

        <div class="row runButtons">
          <button id="runStartBtn" class="primary bigBtn" type="button">Start</button>
          <button id="pauseBtn" class="warning bigBtn" type="button">Pause</button>
          <button id="resumeBtn" class="primary bigBtn" type="button">Resume</button>
          <button id="skipBtn" class="secondary bigBtn" type="button">Skip</button>
          <button id="resetBtn" class="danger bigBtn" type="button">Reset</button>
        </div>

        <div class="row">
          <button id="backToSetupBtn" class="secondary" type="button">Back to setup</button>
        </div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
